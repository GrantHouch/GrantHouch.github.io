<!DOCTYPE html>
<html lang ="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <title>Grants Profile App</title>

 <style>
     body {text-align: center;}
     
      #firstProfile { float: left; width: 50%; background-color: orange; color: white; text-align: left; padding: 20px; }

      #secondProfile { float: left; width: 50%; background-color: blue; color: white; text-align: right; padding: 20px; }

     img{  width: 300px; height: 250px; }
     
 </style>
    
</head>

<body>


<div id="firstProfile">
    <h1>First Profile </h1>
    <h3 id="findName1" type = "text"></h3>
    <h3 id="findAge1" type = "number"></h3>
    <h3 id="findGender1" type = "text"></h3>
    <h3 id="findCountry1" type = "text"></h3>
    <h3 id="findImage1" type = "image"></h3>
    <br><br>
</div>

<div id="secondProfile">
    <h1>Second Profile</h1>
    <h3 id="findName2" type = "text"></h3>
    <h3 id="findAge2" type = "number"></h3>
    <h3 id="findGender2" type = "text"></h3>
    <h3 id="findCountry2" type = "text"></h3>
    <h3 id="findImage2" type = "image"></h3>
    <br><br>
</div>


    <script type="module">
  // Import the functions you need from the SDKs you need
  import { initializeApp } from "https://www.gstatic.com/firebasejs/10.4.0/firebase-app.js";
  import { getAnalytics } from "https://www.gstatic.com/firebasejs/10.4.0/firebase-analytics.js";
  // TODO: Add SDKs for Firebase products that you want to use
  // https://firebase.google.com/docs/web/setup#available-libraries

  // Your web app's Firebase configuration
  // For Firebase JS SDK v7.20.0 and later, measurementId is optional
  const firebaseConfig = {
    apiKey: "AIzaSyBZ4iA5CeVkM6oxiaD1aGHqRiOacR1pxwM",
    authDomain: "profileapp-9e8bf.firebaseapp.com",
    databaseURL: "https://profileapp-9e8bf-default-rtdb.firebaseio.com",
    projectId: "profileapp-9e8bf",
    storageBucket: "profileapp-9e8bf.appspot.com",
    messagingSenderId: "516771937492",
    appId: "1:516771937492:web:1dee7112548c919ef74f41",
    measurementId: "G-806T6GFXFX"
  };

  // Initialize Firebase
  const app = initializeApp(firebaseConfig);
  const analytics = getAnalytics(app);

  import {getDatabase, set, get, update, remove, ref, child} from "https://www.gstatic.com/firebasejs/10.4.0/firebase-database.js"

  const db = getDatabase();

    var findName1 = document.querySelector("#findName1");
    var findAge1 = document.querySelector("#findAge1");
    var findGender1 = document.querySelector("#findGender1");
    var findCountry1 = document.querySelector("#findCountry1");
    var findImage1 = document.querySelector("#findImage1");
    var findName2 = document.querySelector("#findName2");
    var findAge2 = document.querySelector("#findAge2");
    var findGender2 = document.querySelector("#findGender2");
    var findCountry2 = document.querySelector("#findCountry2");
    var findImage2 = document.querySelector("#findImage2");

        //functions to find profile fields and link to firebase 
        function GetDataP1() {
        const dbref = ref(db);
        get(child(dbref, "1OHLwWQHLqZixundO8xspW4go4k2"))
            .then((snapshot) => {
                findName1.innerHTML = "Name: " + snapshot.val().name;
                findAge1.innerHTML = "Age: " + snapshot.val().age;
                findGender1.innerHTML = "Gender: " + snapshot.val().gender; // Use lowercase 'gender'
                findCountry1.innerHTML = "Country: " + snapshot.val().country;
                findImage1.innerHTML = "Image: " + snapshot.val().image;
                
            });
    }

    function GetDataP2() {
        const dbref = ref(db);
        get(child(dbref, "x62AWCy8kTPWMywpR876aASeAZx2"))
            .then((snapshot) => {
                findName2.innerHTML = "Name: " + snapshot.val().name;
                findAge2.innerHTML = "Age: " + snapshot.val().age;
                findGender2.innerHTML = "Gender: " + snapshot.val().gender; // Use lowercase 'gender'
                findCountry2.innerHTML = "Country: " + snapshot.val().country;
                findImage2.innerHTML = "Image: " + snapshot.val().image;
            });
    }

    GetDataP1();
    GetDataP2();
</script>
    
<img src="grantgram-logo.png" alt="Banner Image">
</body>
</html>

